# Citing Marx â€“ Get `Passim` quote detection results on MEGA and DNZ for comparison with `remarx`

This is work associated with the CDH project [Citing Marx](https://cdh.princeton.edu/projects/citing-marx)

## Pretrained text embeddings experiments

This branch contains code and data for quote detection result using `passim`.

### Contents

Scripts:
- `convert_xml.py`: Script to convert MEGA TEI/XML files into plain text files, organized by page.
- `convert_texts_to_passim_corpus.py`: Script to convert text files from two directories into a single combined Passim-friendly JSONL file.
- `run_passim.py`: Script to run Passim on a combined JSONL corpus to detect text reuse.

Notebooks:
- `run_passim_on_texts.ipynb`: Notebook to run `passim` on MEGA and DNZ datasets for extracting quote detection results.
- `display_passim_pairs.ipynb`: Notebook to visualize `passim`'s output JSON (`align.json`), displaying detected sentence pairs.

Data:
- `texts`: Directory containing the original text and XML files.
- `texts_json_for_passim`: Directory for storing preprocessed, Passim-compatible text files.
- `passim_output`: Directory for storing results generated by Passim.

